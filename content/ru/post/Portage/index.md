---
title: Система оправления пакетами Portage
subtitle: Portage — это система управления пакетами.

# Summary for listings and search engines
summary: Portage — это система управления пакетами, изначально созданная и используемая Gentoo Linux, а также Chrome OS, Calculate, Sabayon и Funtoo Linux среди прочих. Portage основан на концепции коллекций портов. Gentoo иногда называют метадистрибутивом из-за чрезвычайной гибкости Portage, которая делает его независимым от операционной системы. Проект Gentoo/Alt связан с использованием Portage для управления другими операционными системами, такими как BSD, macOS и Solaris. Наиболее примечательной из этих реализаций является проект Gentoo/FreeBSD.
# Link this post with a project
projects: []

# Date published
date: '2020-12-13T00:00:00Z'

# Date updated
lastmod: '2020-12-13T00:00:00Z'

# Is this an unpublished draft?
draft: false

# Show this page in the Featured widget?
featured: false

# Featured image
# Place an image named `featured.jpg/png` in this page's folder and customize its options here.
image:
  caption: '[**Logo**](https://www.google.com/url?sa=i&url=https%3A%2F%2Feternalhost.net%2Fblog%2Fsistemnoe-administrirovanie%2Fpaketnye-menedzhery-linux&psig=AOvVaw0TCGE1EtjcR_oaR8fyprLw&ust=1654121956743000&source=images&cd=vfe&ved=0CAkQjRxqFwoTCMDAx8_iivgCFQAAAAAdAAAAABAD)'
  focal_point: ''
  placement: 2
  preview_only: false

authors:
  - admin

tags:
  - Academic

categories:
  - Demo
---


## Обзор
<hr>

**Доступ к Portage**

Графический интерфейс Porthole.
Portage похож на управление пакетами в стиле BSD, известное как порты, и изначально был разработан с учетом портов FreeBSD. Portage написан на языке программирования Python и является основной утилитой, определяющей Gentoo. Хотя сама система известна как Portage, она состоит из двух основных частей: системы ebuild и emerge. Система ebuild берет на себя фактическую работу по сборке и установке пакетов, тогда как emerge предоставляет интерфейс для ebuild: управление репозиторием ebuild, разрешение зависимостей и подобные проблемы. (Поэтому эти два параметра имеют примерно такое же отношение, как rpm к yum или dpkg к APT.)

Графический интерфейс Portage на основе GTK+ доступен для работы с Portage. Существует также графический интерфейс Himerge, что означает «интерфейс Haskell для eMerge».

**Предоставленные функции**

Portage характеризуется своей основной функцией: компиляцией из исходного кода пакетов, которые пользователь хочет установить. При этом он позволяет настраивать параметры компилятора и целевого приложения в соответствии со спецификациями системы и собственными пожеланиями пользователя. Функции, связанные с управлением системой, включают в себя: возможность параллельной установки версий пакетов, отслеживание зависимостей между пакетами, управление базой данных установленных пакетов, предоставление локального репозитория ebuild-файлов и синхронизацию локального дерева Portage с удаленными репозиториями. Функциональные возможности, связанные с установкой отдельных пакетов, включают: указание параметров компиляции для целевой машины и выбор компонентов пакета.

Portage различает три уровня стабильности в ebuild-файлах: стабильный (например, программное обеспечение работает, как задумано, без известных проблем с безопасностью на момент выпуска), замаскированный по ключевому слову (в основном для пакетов, которые не были достаточно протестированы на целевой архитектуре системы, чтобы их можно было рассматривать). стабильный) и жестко замаскированные (сломанные или очень небезопасные) пакеты.


## Функции
<hr>

**Появляться**

Отключение файлового менеджера SpaceFM
Инструмент командной строки emerge является сердцем Portage. Команда настраивается с помощью множества параметров и модификаторов. Инструмент emerge — самая важная утилита для доступа к функциям Portage из командной строки.

Программа вычисляет и управляет зависимостями, выполняет ебилды и поддерживает локальное дерево портежей и базу данных установленных пакетов. Параметры компиляции, используемые ebuild-файлами, можно изменить с помощью переменной среды CFLAGS в зависимости от характеристик отдельного компьютера и желания пользователя оптимизировать его. Утилита emerge запускает ебилды в песочнице. Таким образом, система защищена от программного обеспечения, запускаемого ebuild-файлом, а результирующие двоичные файлы объединяются только после успешной сборки и установки в песочнице.

То, что emerge устанавливает в качестве зависимостей, зависит от настроек USE-флагов. Они решают, какие дополнительные функции будут включены при установке или обновлении приложения. Команду emerge также можно использовать для загрузки и установки предварительно скомпилированных двоичных файлов.

**USE-флаги**

Portage во время обновления системы
Система Portage предлагает использование «USE-флагов», которые позволяют пользователям указывать, какие функции программного обеспечения они хотели бы включить (или исключить) при создании пакетов. Например, есть флаг USE для включения поддержки DVD, если она доступна, в пакеты, скомпилированные с включенным флагом. USE-флаги влияют на то, какие зависимости требуются, как правило, на то, какие дополнительные функции будут встроены в данную программу при ее компиляции. Например, в пакетах, использующих скрипт configure, функция флага USE будет преобразована в ./configure --with-feature.

Спецификация USE-флагов — это обычный способ настройки программ в Gentoo. USE-флаги можно устанавливать вручную или с помощью удобных инструментов, таких как ufed (редактор USE-флагов), в котором перечислены флаги вместе с их описанием. Список доступных USE-флагов доступен на веб-сайте Gentoo в списке USE-флагов.

**Появляться**

Отключение файлового менеджера SpaceFM
Инструмент командной строки emerge является сердцем Portage. Команда настраивается с помощью множества параметров и модификаторов. Инструмент emerge — самая важная утилита для доступа к функциям Portage из командной строки.

Программа вычисляет и управляет зависимостями, выполняет ебилды и поддерживает локальное дерево портежей и базу данных установленных пакетов. Параметры компиляции, используемые ebuild-файлами, можно изменить с помощью переменной среды CFLAGS в зависимости от характеристик отдельного компьютера и желания пользователя оптимизировать его. Утилита emerge запускает ебилды в песочнице. Таким образом, система защищена от программного обеспечения, запускаемого ebuild-файлом, а результирующие двоичные файлы объединяются только после успешной сборки и установки в песочнице.

То, что emerge устанавливает в качестве зависимостей, зависит от настроек USE-флагов. Они решают, какие дополнительные функции будут включены при установке или обновлении приложения. Команду emerge также можно использовать для загрузки и установки предварительно скомпилированных двоичных файлов.

**USE-флаги**

Portage во время обновления системы
Система Portage предлагает использование «USE-флагов», которые позволяют пользователям указывать, какие функции программного обеспечения они хотели бы включить (или исключить) при создании пакетов. Например, есть флаг USE для включения поддержки DVD, если она доступна, в пакеты, скомпилированные с включенным флагом. USE-флаги влияют на то, какие зависимости требуются, как правило, на то, какие дополнительные функции будут встроены в данную программу при ее компиляции. Например, в пакетах, использующих скрипт configure, функция флага USE будет преобразована в ./configure --with-feature.

Спецификация USE-флагов — это обычный способ настройки программ в Gentoo. USE-флаги можно устанавливать вручную или с помощью удобных инструментов, таких как ufed (редактор USE-флагов), в котором перечислены флаги вместе с их описанием. Список доступных USE-флагов доступен на веб-сайте Gentoo в списке USE-флагов.

**сборка**
По умолчанию Gentoo не использует бинарные пакеты, как это делают другие системы управления пакетами (например, pacman или apt), вместо этого используя формат, известный как ebuild. В то время как двоичные файлы RPM представляют собой предварительно скомпилированные двоичные файлы, ebuild-файлы представляют собой сценарии оболочки с переменными и функциями, которые содержат описание программного обеспечения и инструкции о том, как его получить, настроить, скомпилировать и установить, более близкие (но более мощные, чем) файлы . spec-файлы, распространяемые в пакетах SRPM.[8] Доступно более 19 000 ebuild-файлов, большинство из которых распространяется зеркалами Gentoo. Новые и обновленные ebuild-файлы можно получить, синхронизировав локальный репозиторий ebuild-файлов с зеркалами. Это делается с помощью команды emerge --sync. Исторически сложилось так, что Gentoo предоставляет предварительно скомпилированные двоичные пакеты для многих распространенных программ, особенно для тех, которые требуют длительной компиляции, таких как Mozilla Firefox и OpenOffice.org. Они по-прежнему устанавливаются с помощью emerge, просто добавляя «-bin» к имени пакета, чтобы вместо этого установить двоичную версию.

**Двоичные пакеты**

Gentoo имеет бинарный формат упаковки, который представляет собой файл .tbz2 (tar со сжатием bzip2) с дополнительными метаданными. Эта функция позволяет собирать бинарные пакеты на одной системе (используя buildpkg или quickpkg Portage) с последующей быстрой установкой на других, идентичных системах (с помощью getbinpkg Portage или emerge -K). Дополнительные сведения см. в разделе Возможности Portage в Руководстве по Gentoo Linux.

**Маскировка**

Маскировка — это то, как Gentoo определяет, какие пакеты подходят для системы. Ebuilds, предназначенные для различных архитектур или экспериментального программного обеспечения, обычно маскируются таким образом, что стабильная система не может установить их без вмешательства пользователя.

Пакеты, которые обычно просто требуют некоторого тестирования, но часто работают нормально, называются замаскированными ключевыми словами (т. е. они доступны для систем с записью ACCEPT_KEYWORDS в make.conf, начинающейся с символа ~, например, ~x86, ~amd64, ~ppc). Стандартный способ разоблачить отдельный пакет, замаскированный ключевым словом, — добавить файл с полным именем пакета и ключевым словом в /etc/portage/package.accept_keywords/. Пользователи также могут создавать здесь подкаталоги, что позволяет организовать их по своему усмотрению. Например, если замаскированный пакет имеет несколько замаскированных зависимостей, пользователь может создать каталог с именем исходного замаскированного пакета и поместить все файлы масок для пакета и его зависимостей в этот каталог. Эта схема заменяет старую схему использования /etc/portage/package.accept_keywords в виде списка текстовых файлов.

Пакеты с известными проблемами или не считающиеся достаточно зрелыми, чтобы быть кандидатами на стабильную версию, жестко маскируются одним из различных файлов package.mask в /usr/portage/profiles, и такие записи обычно сопровождаются комментариями разработчиков, объясняющими причину маска.



